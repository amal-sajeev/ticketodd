/* ==========================================================================
   Odisha Grievance Redressal System - Frutiger Aero Theme
   ========================================================================== */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

/* --- Reset & Base --- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 16px; scroll-behavior: smooth; }
body {
  font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
  min-height: 100vh;
  background: linear-gradient(135deg, #87CEEB 0%, #E0F7FA 30%, #B2EBF2 50%, #A5D6A7 80%, #C8E6C9 100%);
  background-attachment: fixed;
  color: #1a1a2e;
  overflow-x: hidden;
}

/* --- Animated Background Orbs --- */
.orb {
  position: fixed; border-radius: 50%; pointer-events: none; z-index: 0;
  filter: blur(80px); opacity: 0.5;
}
.orb-1 { width: 500px; height: 500px; background: radial-gradient(circle, rgba(135,206,235,0.6), transparent); top: -10%; left: -5%; animation: drift1 20s ease-in-out infinite; }
.orb-2 { width: 400px; height: 400px; background: radial-gradient(circle, rgba(165,214,167,0.5), transparent); bottom: -10%; right: -5%; animation: drift2 25s ease-in-out infinite; }
.orb-3 { width: 300px; height: 300px; background: radial-gradient(circle, rgba(255,183,77,0.3), transparent); top: 40%; left: 50%; animation: drift3 18s ease-in-out infinite; }
.orb-4 { width: 350px; height: 350px; background: radial-gradient(circle, rgba(179,229,252,0.4), transparent); top: 10%; right: 20%; animation: drift1 22s ease-in-out infinite reverse; }
.orb-5 { width: 250px; height: 250px; background: radial-gradient(circle, rgba(200,230,201,0.5), transparent); bottom: 20%; left: 15%; animation: drift2 15s ease-in-out infinite reverse; }

@keyframes drift1 { 0%,100% { transform: translate(0,0) scale(1); } 50% { transform: translate(60px,40px) scale(1.1); } }
@keyframes drift2 { 0%,100% { transform: translate(0,0) scale(1); } 50% { transform: translate(-50px,-30px) scale(1.05); } }
@keyframes drift3 { 0%,100% { transform: translate(0,0) scale(1); } 33% { transform: translate(40px,-50px) scale(1.08); } 66% { transform: translate(-30px,40px) scale(0.95); } }

/* --- Glass Panel --- */
.glass {
  background: rgba(255,255,255,0.22);
  backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255,255,255,0.35);
  border-radius: 20px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.5), 0 8px 32px rgba(0,0,0,0.08);
}
.glass-strong {
  background: rgba(255,255,255,0.35);
  backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
  border: 1px solid rgba(255,255,255,0.45);
  border-radius: 20px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.6), 0 8px 32px rgba(0,0,0,0.1);
}

/* --- Navbar --- */
.navbar {
  position: sticky; top: 0; z-index: 100; padding: 0.75rem 2rem;
  display: flex; align-items: center; justify-content: space-between;
  background: rgba(255,255,255,0.3);
  backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
  border-bottom: 1px solid rgba(255,255,255,0.4);
  box-shadow: 0 4px 20px rgba(0,0,0,0.06);
}
.navbar .logo {
  font-size: 1.25rem; font-weight: 700; color: #1565C0;
  display: flex; align-items: center; gap: 0.5rem; text-decoration: none;
  letter-spacing: -0.01em;
}
.navbar .logo span { font-size: 1.5rem; }
.nav-links { display: flex; gap: 0.25rem; }
.nav-links a {
  padding: 0.5rem 1rem; border-radius: 50px; text-decoration: none;
  color: #37474F; font-weight: 500; font-size: 0.9rem;
  transition: all 0.2s ease; position: relative;
}
.nav-links a:hover, .nav-links a.active {
  background: rgba(255,255,255,0.4); color: #1565C0;
}
.nav-user {
  display: flex; align-items: center; gap: 0.75rem;
}
.nav-user .user-badge {
  padding: 0.4rem 1rem; border-radius: 50px; font-size: 0.85rem; font-weight: 500;
  background: rgba(21,101,192,0.12); color: #1565C0;
}
.nav-user .btn-logout {
  padding: 0.4rem 1rem; border-radius: 50px; border: 1px solid rgba(239,83,80,0.3);
  background: rgba(239,83,80,0.08); color: #E53935; cursor: pointer;
  font-size: 0.85rem; font-weight: 500; transition: all 0.2s;
}
.nav-user .btn-logout:hover { background: rgba(239,83,80,0.18); }

/* --- Main Content --- */
.main-content {
  position: relative; z-index: 1;
  max-width: 1200px; margin: 0 auto; padding: 2rem 1.5rem;
  animation: fadeSlideUp 0.4s ease-out;
}
.main-content.wide { max-width: 1400px; }

@keyframes fadeSlideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* --- Typography --- */
h1 { font-size: 2rem; font-weight: 700; color: #0D47A1; letter-spacing: -0.02em; margin-bottom: 0.5rem; }
h2 { font-size: 1.5rem; font-weight: 600; color: #1565C0; margin-bottom: 0.75rem; }
h3 { font-size: 1.15rem; font-weight: 600; color: #1976D2; margin-bottom: 0.5rem; }
.subtitle { color: #546E7A; font-size: 1rem; margin-bottom: 1.5rem; }

/* --- Buttons --- */
.btn {
  display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem;
  padding: 0.65rem 1.5rem; border-radius: 50px; border: none;
  font-family: inherit; font-size: 0.9rem; font-weight: 600;
  cursor: pointer; transition: all 0.2s ease; position: relative; overflow: hidden;
}
.btn::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0; height: 50%;
  background: linear-gradient(to bottom, rgba(255,255,255,0.3), transparent);
  border-radius: 50px 50px 0 0; pointer-events: none;
}
.btn:active { transform: scale(0.97); }
.btn-primary { background: linear-gradient(135deg, #1E88E5, #1565C0); color: white; box-shadow: 0 4px 15px rgba(21,101,192,0.3); }
.btn-primary:hover { box-shadow: 0 6px 20px rgba(21,101,192,0.4); transform: translateY(-1px); }
.btn-secondary { background: rgba(255,255,255,0.3); color: #37474F; border: 1px solid rgba(255,255,255,0.4); }
.btn-secondary:hover { background: rgba(255,255,255,0.5); }
.btn-success { background: linear-gradient(135deg, #43A047, #2E7D32); color: white; box-shadow: 0 4px 15px rgba(46,125,50,0.3); }
.btn-danger { background: linear-gradient(135deg, #E53935, #C62828); color: white; }
.btn-sm { padding: 0.4rem 1rem; font-size: 0.8rem; }
.btn-block { width: 100%; }

/* --- Cards --- */
.card {
  padding: 1.5rem; margin-bottom: 1rem;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.card:hover { transform: translateY(-3px); box-shadow: inset 0 1px 0 rgba(255,255,255,0.5), 0 12px 40px rgba(0,0,0,0.12); }
.card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; }
.card-grid-4 { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; }

/* Staggered entrance */
.card-animate { animation: fadeSlideUp 0.4s ease-out both; }
.card-animate:nth-child(1) { animation-delay: 0.05s; }
.card-animate:nth-child(2) { animation-delay: 0.1s; }
.card-animate:nth-child(3) { animation-delay: 0.15s; }
.card-animate:nth-child(4) { animation-delay: 0.2s; }
.card-animate:nth-child(5) { animation-delay: 0.25s; }

/* --- Metric Card --- */
.metric-card {
  text-align: center; padding: 1.5rem 1rem;
}
.metric-card .metric-icon { font-size: 2rem; margin-bottom: 0.5rem; }
.metric-card .metric-value { font-size: 2rem; font-weight: 700; color: #0D47A1; }
.metric-card .metric-label { font-size: 0.85rem; color: #546E7A; margin-top: 0.25rem; }

/* --- Status Badges --- */
.badge {
  display: inline-flex; align-items: center; gap: 0.3rem;
  padding: 0.25rem 0.75rem; border-radius: 50px; font-size: 0.78rem; font-weight: 600;
  backdrop-filter: blur(10px);
}
.badge-pending { background: rgba(255,183,77,0.25); color: #E65100; border: 1px solid rgba(255,183,77,0.4); }
.badge-in_progress { background: rgba(66,165,245,0.2); color: #1565C0; border: 1px solid rgba(66,165,245,0.35); }
.badge-resolved { background: rgba(102,187,106,0.2); color: #2E7D32; border: 1px solid rgba(102,187,106,0.35); }
.badge-escalated { background: rgba(239,83,80,0.2); color: #C62828; border: 1px solid rgba(239,83,80,0.35); }
.badge-dept { background: rgba(21,101,192,0.1); color: #1565C0; border: 1px solid rgba(21,101,192,0.2); }
.badge-priority-low { background: rgba(102,187,106,0.15); color: #2E7D32; }
.badge-priority-medium { background: rgba(255,183,77,0.2); color: #E65100; }
.badge-priority-high { background: rgba(239,83,80,0.15); color: #C62828; }
.badge-priority-urgent { background: rgba(156,39,176,0.15); color: #7B1FA2; }

/* --- Grievance Card --- */
.grievance-card { padding: 1.25rem 1.5rem; cursor: pointer; }
.grievance-card h4 { font-size: 1rem; font-weight: 600; color: #1a1a2e; margin-bottom: 0.5rem; }
.grievance-card p { font-size: 0.88rem; color: #546E7A; margin-bottom: 0.75rem; line-height: 1.5; }
.grievance-card .badges { display: flex; flex-wrap: wrap; gap: 0.4rem; }
.grievance-card.status-pending { border-left: 4px solid #FFB74D; }
.grievance-card.status-in_progress { border-left: 4px solid #42A5F5; }
.grievance-card.status-resolved { border-left: 4px solid #66BB6A; }
.grievance-card.status-escalated { border-left: 4px solid #EF5350; }

/* --- Forms --- */
.form-group { margin-bottom: 1.25rem; }
.form-group label {
  display: block; margin-bottom: 0.4rem; font-weight: 500; font-size: 0.9rem; color: #37474F;
}
.form-control {
  width: 100%; padding: 0.7rem 1rem; border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.4);
  background: rgba(255,255,255,0.25); backdrop-filter: blur(10px);
  font-family: inherit; font-size: 0.9rem; color: #1a1a2e;
  transition: all 0.2s; outline: none;
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.04);
}
.form-control:focus {
  border-color: rgba(21,101,192,0.5);
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.04), 0 0 0 3px rgba(21,101,192,0.15);
  background: rgba(255,255,255,0.35);
}
.form-control::placeholder { color: #90A4AE; }
textarea.form-control { min-height: 100px; resize: vertical; border-radius: 16px; }
select.form-control { cursor: pointer; appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2390A4AE' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: right 1rem center;
}
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
.form-check { display: flex; align-items: center; gap: 0.5rem; }
.form-check input[type="checkbox"] { width: 18px; height: 18px; accent-color: #1565C0; }

/* --- Tabs --- */
.tabs { display: flex; gap: 0.25rem; margin-bottom: 1.5rem; }
.tab-btn {
  padding: 0.6rem 1.25rem; border-radius: 50px; border: none;
  background: rgba(255,255,255,0.15); color: #546E7A;
  font-family: inherit; font-size: 0.9rem; font-weight: 500;
  cursor: pointer; transition: all 0.2s;
}
.tab-btn.active { background: rgba(255,255,255,0.45); color: #1565C0; font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
.tab-content { display: none; }
.tab-content.active { display: block; animation: fadeSlideUp 0.3s ease-out; }

/* --- Chat --- */
.chat-container { display: flex; flex-direction: column; height: calc(100vh - 200px); max-height: 700px; }
.chat-messages { flex: 1; overflow-y: auto; padding: 1rem; display: flex; flex-direction: column; gap: 0.75rem; }
.chat-bubble {
  max-width: 75%; padding: 0.85rem 1.15rem; border-radius: 18px;
  font-size: 0.92rem; line-height: 1.55; position: relative; word-wrap: break-word;
}
.chat-bubble.user {
  align-self: flex-end; background: linear-gradient(135deg, #1E88E5, #1565C0);
  color: white; border-bottom-right-radius: 6px;
}
.chat-bubble.bot {
  align-self: flex-start;
  background: rgba(255,255,255,0.4); backdrop-filter: blur(15px);
  border: 1px solid rgba(255,255,255,0.45); color: #1a1a2e; border-bottom-left-radius: 6px;
}
.bot-group {
  align-self: flex-start; display: flex; flex-direction: column; gap: 0.35rem; max-width: 78%;
}
.bot-header {
  display: flex; align-items: center; gap: 0.45rem; margin-bottom: 0.1rem;
}
.bot-avatar {
  width: 28px; height: 28px; border-radius: 50%;
  background: linear-gradient(135deg, #1E88E5, #0D47A1);
  display: flex; align-items: center; justify-content: center;
  font-size: 14px; box-shadow: 0 2px 8px rgba(30,136,229,0.3);
}
.bot-name {
  font-weight: 700; font-size: 0.82rem; color: #1565C0; letter-spacing: 0.02em;
}
.bot-group .chat-bubble.bot { max-width: 100%; }
.chat-input-area {
  display: flex; gap: 0.75rem; padding: 1rem; margin-top: 0.5rem;
  background: rgba(255,255,255,0.2); border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.3);
}
.chat-input-area input {
  flex: 1; padding: 0.7rem 1rem; border: none; background: transparent;
  font-family: inherit; font-size: 0.95rem; outline: none; color: #1a1a2e;
}
.chat-input-area input::placeholder { color: #90A4AE; }
.chat-filed-grievance {
  align-self: flex-start; padding: 1rem 1.25rem; border-radius: 18px;
  background: rgba(46,125,50,0.12); border: 1px solid rgba(46,125,50,0.3);
  border-bottom-left-radius: 6px; max-width: 75%;
}
.chat-filed-grievance h4 { color: #2E7D32; font-size: 0.9rem; margin-bottom: 0.4rem; }
.chat-filed-grievance a { color: #1565C0; text-decoration: none; font-weight: 600; }

/* Typing indicator */
.typing-indicator { display: flex; gap: 4px; align-items: center; padding: 0.75rem 1rem; }
.typing-indicator span {
  width: 8px; height: 8px; border-radius: 50%;
  background: rgba(21,101,192,0.4); animation: bounce 1.4s infinite ease-in-out;
}
.typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
.typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
@keyframes bounce { 0%,80%,100% { transform: scale(0.6); opacity: 0.4; } 40% { transform: scale(1); opacity: 1; } }

/* --- Scheme Card --- */
.scheme-card h4 { color: #0D47A1; margin-bottom: 0.5rem; }
.scheme-card p { font-size: 0.88rem; color: #37474F; line-height: 1.5; margin-bottom: 0.4rem; }
.scheme-card strong { color: #1565C0; }

/* --- Filter Bar --- */
.filter-bar {
  display: flex; flex-wrap: wrap; gap: 0.75rem; margin-bottom: 1.5rem;
  padding: 1rem 1.25rem; align-items: end;
}
.filter-bar .form-group { margin-bottom: 0; min-width: 160px; flex: 1; }
.filter-bar .form-control { padding: 0.55rem 0.85rem; border-radius: 12px; font-size: 0.85rem; }

/* --- Two Column Layout --- */
.two-col { display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem; }
@media (max-width: 900px) { .two-col { grid-template-columns: 1fr; } }

/* --- Detail Section --- */
.detail-section { margin-bottom: 1.5rem; }
.detail-section h3 { margin-bottom: 0.75rem; }
.detail-row { display: flex; padding: 0.4rem 0; border-bottom: 1px solid rgba(255,255,255,0.15); }
.detail-row .label { font-weight: 500; color: #546E7A; min-width: 140px; font-size: 0.88rem; }
.detail-row .value { color: #1a1a2e; font-size: 0.88rem; }

/* --- Resolution Box --- */
.resolution-box {
  padding: 1rem 1.25rem; border-radius: 14px; margin: 0.75rem 0;
  background: rgba(21,101,192,0.06); border: 1px solid rgba(21,101,192,0.15);
}
.resolution-box.ai { border-left: 4px solid #1E88E5; }
.resolution-box.manual { border-left: 4px solid #43A047; }
.resolution-box .resolution-header { font-weight: 600; color: #1565C0; margin-bottom: 0.5rem; font-size: 0.9rem; }
.resolution-box p { font-size: 0.9rem; line-height: 1.6; color: #37474F; }
.resolution-content { font-size: 0.9rem; line-height: 1.6; color: #37474F; }
.resolution-content h3 { font-size: 0.95rem; font-weight: 600; margin: 0.75rem 0 0.35rem; color: #1a1a2e; }
.resolution-content h4 { font-size: 0.9rem; font-weight: 600; margin: 0.6rem 0 0.25rem; color: #1a1a2e; }
.resolution-content p { margin: 0 0 0.5rem; }
.resolution-content ul, .resolution-content ol { margin: 0.25rem 0 0.5rem 1.25rem; padding: 0; }
.resolution-content li { margin-bottom: 0.2rem; }
.resolution-content strong { color: #1a1a2e; }
.resolution-content :last-child { margin-bottom: 0; }

/* --- Chat markdown --- */
.chat-bubble.bot p { margin: 0 0 0.4rem; }
.chat-bubble.bot p:last-child { margin-bottom: 0; }
.chat-bubble.bot ul, .chat-bubble.bot ol { margin: 0.25rem 0 0.4rem 1.15rem; padding: 0; }
.chat-bubble.bot li { margin-bottom: 0.15rem; }
.chat-bubble.bot strong { font-weight: 600; }
.chat-bubble.bot h3, .chat-bubble.bot h4 { font-size: 0.93rem; font-weight: 600; margin: 0.5rem 0 0.25rem; }
.chat-bubble.bot :first-child { margin-top: 0; }
.chat-bubble.bot :last-child { margin-bottom: 0; }

/* --- Notes --- */
.note-item {
  padding: 0.75rem 1rem; border-radius: 12px; margin-bottom: 0.5rem;
  background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.2);
}
.note-item .note-meta { font-size: 0.8rem; color: #78909C; margin-bottom: 0.3rem; }
.note-item p { font-size: 0.88rem; }

/* --- Auth pages --- */
.auth-container {
  display: flex; align-items: center; justify-content: center; min-height: calc(100vh - 80px);
}
.auth-card { width: 100%; max-width: 420px; padding: 2.5rem; text-align: center; }
.auth-card h1 { font-size: 1.6rem; margin-bottom: 0.5rem; }
.auth-card .auth-subtitle { color: #546E7A; margin-bottom: 2rem; font-size: 0.95rem; }
.auth-card .form-group { text-align: left; }
.auth-link { color: #1565C0; text-decoration: none; font-weight: 500; }
.auth-link:hover { text-decoration: underline; }

/* --- Toast --- */
.toast {
  position: fixed; top: 1.5rem; right: 1.5rem; z-index: 9999;
  padding: 0.85rem 1.5rem; border-radius: 14px; font-weight: 500; font-size: 0.9rem;
  animation: toastIn 0.3s ease-out;
  backdrop-filter: blur(15px);
}
.toast-success { background: rgba(46,125,50,0.9); color: white; }
.toast-error { background: rgba(198,40,40,0.9); color: white; }
@keyframes toastIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }

/* --- Loading Spinner --- */
.spinner {
  display: flex; gap: 6px; align-items: center; justify-content: center; padding: 2rem;
}
.spinner span {
  width: 12px; height: 12px; border-radius: 50%;
  background: rgba(21,101,192,0.5); animation: bounce 1.2s infinite ease-in-out;
}
.spinner span:nth-child(2) { animation-delay: 0.15s; }
.spinner span:nth-child(3) { animation-delay: 0.3s; }

/* --- Footer --- */
.footer {
  text-align: center; padding: 2rem 1rem; color: #546E7A;
  font-size: 0.85rem; position: relative; z-index: 1;
}

/* --- Success Result --- */
.result-card {
  padding: 2rem; text-align: center;
  animation: fadeSlideUp 0.5s ease-out;
}
.result-card .tracking-number {
  font-size: 1.8rem; font-weight: 700; color: #1565C0;
  margin: 1rem 0; letter-spacing: 0.02em;
}

/* --- Responsive --- */
@media (max-width: 768px) {
  .navbar { padding: 0.5rem 1rem; flex-wrap: wrap; }
  .nav-links { flex-wrap: wrap; justify-content: center; }
  .main-content { padding: 1rem; }
  .form-row { grid-template-columns: 1fr; }
  .card-grid-4 { grid-template-columns: repeat(2, 1fr); }
  .filter-bar { flex-direction: column; }
  .chat-bubble { max-width: 90%; }
}

/* --- Date group headers --- */
.date-group-header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.6rem 0;
  margin-top: 1rem;
  border-bottom: 2px solid rgba(0,0,0,0.08);
}
.date-group-header h3 {
  margin: 0;
  font-size: 1rem;
  font-weight: 700;
}
.date-group-header .count {
  background: rgba(0,0,0,0.06);
  padding: 0.15rem 0.5rem;
  border-radius: 10px;
  font-size: 0.8rem;
}

/* --- Impact score badge --- */
.impact-badge {
  display: inline-block;
  padding: 0.15rem 0.5rem;
  border-radius: 10px;
  font-size: 0.75rem;
  font-weight: 700;
  color: #fff;
  margin-left: 0.3rem;
}

/* --- Deadline badges --- */
.deadline-badge {
  display: inline-block;
  padding: 0.2rem 0.6rem;
  border-radius: 8px;
  font-size: 0.82rem;
  font-weight: 600;
}
.deadline-green { background: rgba(76,175,80,0.15); color: #2E7D32; }
.deadline-yellow { background: rgba(255,183,77,0.2); color: #E65100; }
.deadline-red { background: rgba(239,83,80,0.15); color: #C62828; }
.deadline-breached { background: rgba(239,83,80,0.25); color: #C62828; animation: pulse 1.5s infinite; }
@keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: 0.5; } }

/* --- Community feed cards --- */
.community-card { transition: transform 0.2s ease; }
.community-card:hover { transform: translateY(-2px); }
.vouch-count {
  display: inline-flex; align-items: center; gap: 0.25rem;
  padding: 0.2rem 0.6rem; border-radius: 10px;
  background: rgba(76,175,80,0.15); color: #2E7D32;
  font-weight: 600; font-size: 0.85rem;
}

/* --- Systemic issue badge --- */
.systemic-badge {
  display: inline-block; padding: 0.1rem 0.4rem;
  border-radius: 6px; font-size: 0.7rem; font-weight: 600;
  background: rgba(156,39,176,0.15); color: #7B1FA2;
}
.multi-dept-badge {
  display: inline-block; padding: 0.1rem 0.4rem;
  border-radius: 6px; font-size: 0.7rem; font-weight: 600;
  background: rgba(21,101,192,0.15); color: #1565C0;
}

/* --- Sub-task cards --- */
.sub-task-card {
  background: rgba(255,255,255,0.2);
  border-radius: 10px;
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  border-left: 4px solid #42A5F5;
}
.sub-task-card.resolved {
  border-left-color: #66BB6A;
  opacity: 0.7;
}

/* --- Scheme match card --- */
.scheme-match-card {
  background: rgba(76,175,80,0.08);
  border: 1px solid rgba(76,175,80,0.25);
  border-radius: 12px;
  padding: 1rem;
  margin-top: 1rem;
}

/* --- Breach indicator --- */
.breach-indicator {
  display: inline-block; padding: 0.1rem 0.4rem;
  border-radius: 6px; font-size: 0.7rem; font-weight: 700;
  background: rgba(239,83,80,0.2); color: #C62828;
  animation: pulse 1.5s infinite;
}


/* --- Utility --- */
.mb-1 { margin-bottom: 0.5rem; } .mb-2 { margin-bottom: 1rem; } .mb-3 { margin-bottom: 1.5rem; }
.mt-1 { margin-top: 0.5rem; } .mt-2 { margin-top: 1rem; } .mt-3 { margin-top: 1.5rem; }
.text-center { text-align: center; }
.text-muted { color: #78909C; }
.text-sm { font-size: 0.85rem; }
.hidden { display: none !important; }
.flex { display: flex; } .flex-between { display: flex; justify-content: space-between; align-items: center; }
.gap-1 { gap: 0.5rem; } .gap-2 { gap: 1rem; }

/* --- Document Upload Zone --- */
.upload-zone {
  border: 2px dashed rgba(21,101,192,0.25);
  border-radius: 20px;
  padding: 2.5rem 1.5rem;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  background: rgba(255,255,255,0.08);
  position: relative;
}
.upload-zone:hover {
  border-color: rgba(21,101,192,0.4);
  background: rgba(255,255,255,0.14);
}
.upload-zone.dragover {
  border-color: #1565C0;
  background: rgba(21,101,192,0.06);
  transform: scale(1.01);
}
.upload-zone-text { color: #546E7A; font-size: 0.95rem; line-height: 1.6; }
.upload-zone-text strong { color: #1565C0; cursor: pointer; }
.upload-zone-text strong:hover { text-decoration: underline; }
.upload-zone-hint { color: #90A4AE; font-size: 0.8rem; margin-top: 0.5rem; }

/* --- Uploaded File Items --- */
.upload-file-list { display: flex; flex-direction: column; gap: 0.5rem; margin-top: 1rem; }
.upload-file-item {
  display: flex; align-items: center; gap: 0.75rem;
  padding: 0.6rem 1rem; border-radius: 14px;
  background: rgba(255,255,255,0.2);
  border: 1px solid rgba(255,255,255,0.3);
  animation: fadeSlideUp 0.3s ease-out both;
}
.upload-file-name { flex: 1; font-size: 0.88rem; font-weight: 500; color: #1a1a2e; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.upload-file-meta { font-size: 0.75rem; color: #78909C; white-space: nowrap; }
.upload-file-remove {
  background: none; border: none; color: #C62828; cursor: pointer;
  font-size: 1rem; padding: 0.2rem 0.4rem; border-radius: 6px;
  transition: background 0.15s;
}
.upload-file-remove:hover { background: rgba(198,40,40,0.1); }

/* --- Processing Shimmer --- */
.processing-shimmer {
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(21,101,192,0.08) 50%, rgba(255,255,255,0) 100%);
  background-size: 200% 100%;
  animation: shimmer 1.8s ease-in-out infinite;
  border-radius: 14px;
  padding: 1rem;
}
@keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

.field-flash {
  animation: fieldFlash 0.6s ease;
}
@keyframes fieldFlash {
  0% { background: rgba(21,101,192,0.12); }
  100% { background: rgba(255,255,255,0.25); }
}

/* --- Document Viewer Overlay --- */
.doc-overlay {
  position: fixed; inset: 0; z-index: 9999;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  display: flex; align-items: center; justify-content: center;
  animation: fadeIn 0.2s ease;
}
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.doc-modal {
  width: min(90vw, 1000px); height: 85vh;
  border-radius: 20px; padding: 1.5rem;
  display: flex; flex-direction: column;
  box-shadow: 0 24px 80px rgba(0,0,0,0.2);
}
.doc-modal iframe, .doc-modal img {
  border-radius: 12px;
  flex: 1;
}
.doc-modal img {
  max-width: 100%; max-height: calc(85vh - 5rem);
  object-fit: contain; margin: 0 auto; display: block;
}

/* --- Document Badge on Scheme Cards --- */
.doc-badge {
  display: inline-flex; align-items: center; gap: 0.3rem;
  padding: 0.2rem 0.6rem; border-radius: 50px;
  font-size: 0.75rem; font-weight: 600;
  background: rgba(21,101,192,0.1); color: #1565C0;
  border: 1px solid rgba(21,101,192,0.2);
}

/* --- Mode Toggle for Scheme Entry --- */
.scheme-mode-toggle {
  display: flex; gap: 0.25rem;
  padding: 3px; border-radius: 50px;
  background: rgba(255,255,255,0.15);
  margin-bottom: 1rem;
}
.scheme-mode-btn {
  padding: 0.5rem 1.1rem; border-radius: 50px; border: none;
  background: transparent; color: #546E7A;
  font-family: inherit; font-size: 0.85rem; font-weight: 500;
  cursor: pointer; transition: all 0.25s ease;
}
.scheme-mode-btn.active {
  background: rgba(255,255,255,0.45); color: #1565C0;
  font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.06);
}

/* --- Attach Section --- */
.attach-toggle {
  display: flex; align-items: center; gap: 0.5rem;
  padding: 0.5rem 0; cursor: pointer; color: #546E7A;
  font-size: 0.88rem; font-weight: 500;
  border: none; background: none; transition: color 0.2s;
}
.attach-toggle:hover { color: #1565C0; }

/* --- Processing Status --- */
.process-status {
  display: flex; align-items: center; gap: 0.75rem;
  padding: 1rem; border-radius: 14px;
  background: rgba(21,101,192,0.05);
  color: #1565C0; font-size: 0.9rem; font-weight: 500;
}
.process-status .spinner { margin: 0; }
